(this["webpackJsonpfood-order"]=this["webpackJsonpfood-order"]||[]).push([[0],{109:function(e,t,o){},110:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),r=o(11),c=o.n(r),i=o(6),l=o(7),d=o(9),u=o(8),s=o(10),m=o(13),p=o(3),f=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("div.mdl-layout__drawer"),t=document.querySelector("div.mdl-layout__obfuscator");document.querySelectorAll("div.mdl-layout__drawer a.mdl-navigation__link").forEach((function(o){o.addEventListener("click",(function(){e.classList.remove("is-visible"),t.classList.remove("is-visible")}))}))}},{key:"render",value:function(){return n.a.createElement(p.Layout,{fixedHeader:!0},n.a.createElement(p.Header,{title:"Food Order"},n.a.createElement(p.Navigation,{className:"top-nav"},n.a.createElement(m.b,{to:"/"},"Home"),n.a.createElement(m.b,{to:"/checkout"},"Checkout"),n.a.createElement(m.b,{to:"/add-food"},"Add Food"),n.a.createElement(m.b,{to:"/add-promo"},"Add Promo"),n.a.createElement(m.b,{to:"/promo-list"},"Promo List"))),n.a.createElement(p.Drawer,{title:"Food Order"},n.a.createElement(p.Navigation,null,n.a.createElement(m.b,{to:"/"},"Home"),n.a.createElement(m.b,{to:"/checkout"},"Checkout"),n.a.createElement(m.b,{to:"/add-food"},"Add Food"),n.a.createElement(m.b,{to:"/add-promo"},"Add Promo"),n.a.createElement(m.b,{to:"/promo-list"},"Promo List"))))}}]),t}(a.Component),h=o(21),b=o(5),v=o(16),E=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showCheckOutSnackbar:!1,snackbarMessage:null},o}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="Check Out",document.querySelector("#textfield-FoodName").addEventListener("input",(function(e){e.target.value=e.target.value.toUpperCase()})),document.querySelector("#textfield-PromoCode").addEventListener("input",(function(e){e.target.value=e.target.value.toUpperCase()})),document.querySelector("#add-food-btn").addEventListener("click",(function(){var t=document.querySelector("#textfield-FoodName").value,o=document.querySelector("#textfield-Quantity").value;""===t.trim()||""===o.trim()||isNaN(o.trim())||(e.props.foods.hasOwnProperty(t)?(e.props.addCheckoutFood({foodName:t,quantity:o}),document.querySelector("#textfield-FoodName").value="",document.querySelector("#textfield-Quantity").value="",e.setState({showCheckOutSnackbar:!0,snackbarMessage:"Food ".concat(t," added to checkout list")})):e.setState({showCheckOutSnackbar:!0,snackbarMessage:"Food ".concat(t," not found")}))})),document.querySelector("#apply-promo-btn").addEventListener("click",(function(){var t=document.querySelector("#textfield-PromoCode").value;""!==t.trim()&&(e.props.promo.hasOwnProperty(t)?(e.props.addCheckoutPromo(t),document.querySelector("#textfield-PromoCode").value="",e.setState({showCheckOutSnackbar:!0,snackbarMessage:'Promo Code "'.concat(t,'" applied')})):(e.props.addCheckoutPromo(null),e.setState({showCheckOutSnackbar:!0,snackbarMessage:'Promo Code "'.concat(t,'" not found. Promo not applied')})))})),document.querySelector("#textfield-DeliveryFee").addEventListener("input",(function(t){var o=t.target.value.trim();""===o||isNaN(o)||(o=parseInt(o),e.props.setDeliveryFee(o))}))}},{key:"disableAddFoodSnackbar",value:function(){this.setState({showCheckOutSnackbar:!1})}},{key:"getTotalPrice",value:function(e){var t=this;return Object.keys(e).map((function(o){return t.props.foods[o].price*e[o]})).reduce((function(e,t){return e+t}),0)}},{key:"getDiscount",value:function(e){var t=this;if(this.props.checkout.promoCode){var o=Object.keys(e).map((function(o){return t.props.foods[o].price*e[o]})).reduce((function(e,t){return e+t}),0)*this.props.promo[this.props.checkout.promoCode].discount/100;return(o=100*Math.round(o/100))>this.props.promo[this.props.checkout.promoCode].maximum&&(o=this.props.promo[this.props.checkout.promoCode].maximum),-o}return 0}},{key:"getDeliveryFee",value:function(){return this.props.checkout.deliveryFee||0}},{key:"getTotal",value:function(){return this.getTotalPrice(this.props.checkout.foodList)+this.getDiscount(this.props.checkout.foodList)+this.getDeliveryFee()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("h1",null,"Check Out"),n.a.createElement("div",{className:"add-food-form"},n.a.createElement(p.Textfield,{onChange:function(){},label:"Food Name",floatingLabel:!0,style:{width:"200px",marginRight:10},list:"food-list"}),n.a.createElement("datalist",{id:"food-list"},Object.keys(this.props.foods).map((function(t){return n.a.createElement("option",{key:t,value:e.props.foods[t].foodName})}))),n.a.createElement(p.Textfield,{onChange:function(){},label:"Quantity",floatingLabel:!0,style:{width:"200px",marginRight:10},pattern:"-?[0-9]*(\\.[0-9]+)?",error:"Quantity be in number"}),n.a.createElement(p.Button,{id:"add-food-btn",raised:!0,accent:!0,ripple:!0},"Add")),n.a.createElement("div",{className:"apply-promo-form"},n.a.createElement(p.Textfield,{onChange:function(){},label:"Promo Code",floatingLabel:!0,style:{width:"200px",marginRight:10}}),n.a.createElement(p.Button,{id:"apply-promo-btn",raised:!0,accent:!0,ripple:!0},"Apply")),n.a.createElement("div",{className:"delivery-fee-form"},n.a.createElement(p.Textfield,{onChange:function(){},label:"Delivery Fee",floatingLabel:!0,style:{width:"200px",marginRight:10},pattern:"-?[0-9]*(\\.[0-9]+)?",error:"Delivery Fee must be in number"})),n.a.createElement("div",{className:"table-container"},n.a.createElement("table",{class:"mdl-data-table mdl-js-data-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{class:"mdl-data-table__cell--non-numeric"},"Food Name"),n.a.createElement("th",null,"Price (Rp)"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Sub Total (Rp)"))),n.a.createElement("tbody",null,Object.keys(this.props.checkout.foodList).map((function(t){return n.a.createElement("tr",null,n.a.createElement("td",{class:"mdl-data-table__cell--non-numeric"},t),n.a.createElement("td",null,e.props.foods[t].price),n.a.createElement("td",null,e.props.checkout.foodList[t]),n.a.createElement("td",null,e.props.foods[t].price*e.props.checkout.foodList[t]))}))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",{colspan:"3"},"Total Price"),n.a.createElement("td",{id:"total-price-value"},this.getTotalPrice(this.props.checkout.foodList))),n.a.createElement("tr",null,n.a.createElement("th",{colspan:"3"},"Discount ",n.a.createElement("span",{id:"promo-value"},this.props.checkout.promoCode)),n.a.createElement("td",{id:"discount-value"},this.getDiscount(this.props.checkout.foodList))),n.a.createElement("tr",null,n.a.createElement("th",{colspan:"3"},"Delivery Fee"),n.a.createElement("td",{id:"delivery-fee-value"},this.getDeliveryFee())),n.a.createElement("tr",null,n.a.createElement("th",{colspan:"3"},"Total"),n.a.createElement("td",{id:"total-value"},this.getTotal()))))),n.a.createElement(p.Snackbar,{active:this.state.showCheckOutSnackbar,onTimeout:function(){return e.disableAddFoodSnackbar()}},this.state.snackbarMessage))}}]),t}(a.Component),y=Object(v.b)((function(e){return Object(b.a)({},e)}),(function(e){return{addCheckoutFood:function(t){return e(function(e){return function(t){t({type:"ADD_CHECKOUT_FOOD",data:e})}}(t))},addCheckoutPromo:function(t){return e(function(e){return function(t){t({type:"ADD_CHECKOUT_PROMO",data:e})}}(t))},setDeliveryFee:function(t){return e((o=t,function(e){e({type:"SET_DELIVERY_FEE",data:o})}));var o}}}))(E),k=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="Page Not Found"}},{key:"render",value:function(){return n.a.createElement("h1",null,"Page Not Found")}}]),t}(a.Component),O=function(e){function t(){var e,o;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={foodList:[]},o}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),document.title="Food List";var e=[];for(var t in this.props.foods){var o=this.props.foods[t];e.push(o)}this.setState({foodList:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Food List"),n.a.createElement("div",{className:"table-container"},n.a.createElement(p.DataTable,{shadow:0,rows:this.state.foodList},n.a.createElement(p.TableHeader,{name:"foodName",tooltip:"Food Name"},"Food Name"),n.a.createElement(p.TableHeader,{numeric:!0,name:"price",tooltip:"Price"},"Price (Rp)"))))}}]),t}(a.Component),g=Object(v.b)((function(e){return Object(b.a)({},e)}))(O),C=function(e){function t(){var e,o;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={isAddFoodSucceed:!1},o}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="Add Food",document.querySelector("#textfield-FoodName").addEventListener("input",(function(e){var t=e.target;t.value=t.value.toUpperCase()})),document.querySelector("#add-btn").addEventListener("click",(function(){var t=document.querySelector("#textfield-FoodName").value,o=document.querySelector("#textfield-Price").value;""===t.trim()||""===o.trim()||isNaN(o.trim())||(e.props.addFood({foodId:t,foodData:{foodName:t,price:o}}),document.querySelector("#textfield-FoodName").value="",document.querySelector("#textfield-Price").value="",e.setState({isAddFoodSucceed:!0}))}))}},{key:"disableAddFoodSnackbar",value:function(){this.setState({isAddFoodSucceed:!1})}},{key:"viewFood",value:function(){window.location.hash="#/"}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("h1",null,"Add Food"),n.a.createElement("div",{className:"add-food-container"},n.a.createElement(p.Textfield,{onChange:function(){},label:"Food Name",floatingLabel:!0,style:{width:"200px",display:"block"}}),n.a.createElement(p.Textfield,{onChange:function(){},label:"Price",floatingLabel:!0,pattern:"-?[0-9]*(\\.[0-9]+)?",error:"Price must be in number",style:{width:"200px",display:"block"}}),n.a.createElement(p.Button,{id:"add-btn",raised:!0,accent:!0,ripple:!0},"Add")),n.a.createElement(p.Snackbar,{active:this.state.isAddFoodSucceed,onTimeout:function(){return e.disableAddFoodSnackbar()},action:"View Foods",onClick:this.viewFood},"Add food succeeded"))}}]),t}(a.Component),S=Object(v.b)((function(e){return Object(b.a)({},e)}),(function(e){return{addFood:function(t){return e(function(e){return function(t){t({type:"ADD_FOOD",data:e})}}(t))}}}))(C),j=function(e){function t(){var e,o;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={isAddPromoSucceed:!1},o}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="Add Promo",document.querySelector("#textfield-PromoCode").addEventListener("input",(function(e){var t=e.target;t.value=t.value.toUpperCase()})),document.querySelector("#add-btn").addEventListener("click",(function(){var t=document.querySelector("#textfield-PromoCode").value,o=document.querySelector("#textfield-Discount").value,a=document.querySelector("#textfield-Maximum").value;""===t.trim()||""===o.trim()||isNaN(o.trim())||""===a.trim()||isNaN(a.trim())||(e.props.addPromo({promoCode:t,promoData:{discount:o,maximum:a}}),document.querySelector("#textfield-PromoCode").value=null,document.querySelector("#textfield-Discount").value=null,document.querySelector("#textfield-Maximum").value=null,e.setState({isAddPromoSucceed:!0}))}))}},{key:"disableAddPromoSnackbar",value:function(){this.setState({isAddPromoSucceed:!1})}},{key:"viewPromo",value:function(){window.location.hash="#/promo-list"}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("h1",null,"Add Promo"),n.a.createElement("div",{className:"add-food-container"},n.a.createElement(p.Textfield,{onChange:function(){},label:"Promo Code",floatingLabel:!0,style:{width:"200px",display:"block"}}),n.a.createElement(p.Textfield,{onChange:function(){},label:"Discount (%)",floatingLabel:!0,pattern:"-?[0-9]*(\\.[0-9]+)?",error:"Discount must be in number",style:{width:"200px",display:"block"}}),n.a.createElement(p.Textfield,{onChange:function(){},label:"Maximum",floatingLabel:!0,pattern:"-?[0-9]*(\\.[0-9]+)?",error:"Maximum discount must be in number",style:{width:"200px",display:"block"}}),n.a.createElement(p.Button,{id:"add-btn",raised:!0,accent:!0,ripple:!0},"Add")),n.a.createElement(p.Snackbar,{active:this.state.isAddPromoSucceed,onTimeout:function(){return e.disableAddPromoSnackbar()},action:"View Promo",onClick:this.viewPromo},"Add Promo succeeded"))}}]),t}(a.Component),D=Object(v.b)((function(e){return Object(b.a)({},e)}),(function(e){return{addPromo:function(t){return e(function(e){return function(t){t({type:"ADD_PROMO",data:e})}}(t))}}}))(j),P=function(e){function t(){var e,o;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={promoList:[]},o}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="Promo List";var e=[];for(var t in this.props.promo){var o=this.props.promo[t];o.promoCode=t,e.push(o)}this.setState({promoList:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Promo List"),n.a.createElement("div",{className:"table-container"},n.a.createElement(p.DataTable,{shadow:0,rows:this.state.promoList},n.a.createElement(p.TableHeader,{name:"promoCode",tooltip:"Promo Code"},"Promo Code"),n.a.createElement(p.TableHeader,{numeric:!0,name:"discount",tooltip:"Discount in %"},"Discount (%)"),n.a.createElement(p.TableHeader,{numeric:!0,name:"maximum",tooltip:"Maximum discount in Rp"},"Maximum Discount (Rp)"))))}}]),t}(a.Component),F=Object(v.b)((function(e){return Object(b.a)({},e)}))(P),x=function(){return n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:"/",component:g}),n.a.createElement(h.a,{path:"/checkout",component:y}),n.a.createElement(h.a,{path:"/add-food",component:S}),n.a.createElement(h.a,{path:"/add-promo",component:D}),n.a.createElement(h.a,{path:"/promo-list",component:F}),n.a.createElement(h.a,{path:"*",component:k}))},w=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(p.Layout,{fixedHeader:!0},n.a.createElement(f,null),n.a.createElement(p.Content,null,n.a.createElement("div",{className:"inner-content"},n.a.createElement(x,null)))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o(107),o(108),o(109);var L=o(20),N=o(50),A=Object(L.c)({foods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FOOD":return(e=Object(b.a)({},e))[t.data.foodId]=Object(b.a)({},t.data.foodData),e;default:return e}},promo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PROMO":return(e=Object(b.a)({},e))[t.data.promoCode]=Object(b.a)({},t.data.promoData),e;default:return e}},checkout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CHECKOUT_FOOD":return(e=Object(b.a)({},e)).foodList[t.data.foodName]=t.data.quantity,e;case"ADD_CHECKOUT_PROMO":return Object(b.a)({},e,{promoCode:t.data});case"SET_DELIVERY_FEE":return Object(b.a)({},e,{deliveryFee:t.data});default:return e}}});var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{foods:{},promo:{},checkout:{foodList:{}}},t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.d;return Object(L.e)(A,e,t(Object(L.a)(N.a)))}();c.a.render(n.a.createElement(v.a,{store:T},n.a.createElement(m.a,null,n.a.createElement(w,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},51:function(e,t,o){e.exports=o(110)}},[[51,1,2]]]);
//# sourceMappingURL=main.39547e68.chunk.js.map